{
  "version": 1,
  "units": {
    "system": "kg",
    "incrementKg": 2.5,
    "incrementLb": 5,
    "minWeightKg": 20.0,
    "minWeightLb": 45.0,
    "plates": {
      "kg": [25, 20, 15, 10, 5, 2.5, 1.25],
      "lb": [55, 45, 35, 25, 10, 5, 2.5]
    },
    "exerciseOverrides": {
      "pullup": { "minWeightKg": 0.0, "minWeightLb": 0.0 },
      "dips": { "minWeightKg": 0.0, "minWeightLb": 0.0 }
    }
  },
  "exercises": {
    "squat":      { "name": "Barbell Squat",        "muscleGroup": "Legs",        "startingWeightKg": 80.0,  "restSeconds": 180, "isBodyweight": false },
    "deadlift":   { "name": "Deadlift",              "muscleGroup": "Back/Legs",   "startingWeightKg": 100.0, "restSeconds": 180, "isBodyweight": false },
    "bench":      { "name": "Bench Press",           "muscleGroup": "Chest",       "startingWeightKg": 80.0,  "restSeconds": 180, "isBodyweight": false },
    "overhead":   { "name": "Overhead Press",        "muscleGroup": "Shoulders",   "startingWeightKg": 40.0,  "restSeconds": 180, "isBodyweight": false },
    "row":        { "name": "Barbell Row",           "muscleGroup": "Back",        "startingWeightKg": 50.0,  "restSeconds": 180, "isBodyweight": false },
    "pullup":     { "name": "Weighted Pull-up",      "muscleGroup": "Back/Biceps", "startingWeightKg": 0.0,   "restSeconds": 180, "isBodyweight": true  },
    "incline_db": { "name": "DB Incline Bench Press","muscleGroup": "Chest",       "startingWeightKg": 25.0,  "restSeconds": 180, "isBodyweight": false },
    "chest_fly":  { "name": "Chest Flies",           "muscleGroup": "Chest",       "startingWeightKg": 30.0,  "restSeconds": 180, "isBodyweight": false },
    "dips":       { "name": "Dips",                  "muscleGroup": "Chest/Triceps","startingWeightKg": 0.0,   "restSeconds": 180, "isBodyweight": true  }
  },
  "rotation": {
    "order": ["CHEST", "BACK", "ARMS", "SHOULDERS", "LEGS"],
    "days": {
      "CHEST": ["bench", "incline_db", "chest_fly", "dips"],
      "BACK": ["deadlift", "row", "pullup"],
      "ARMS": ["pullup", "overhead"],
      "SHOULDERS": ["overhead", "row"],
      "LEGS": ["squat", "deadlift"]
    },
    "dayIdMap": { "CHEST": 1, "BACK": 2, "ARMS": 3, "SHOULDERS": 4, "LEGS": 5 }
  },
  "progression": {
    "thresholds": {
      "failure":   { "reps": "==0", "multiplier": 0.8 },
      "below":     { "reps": "1-3", "multiplier": 0.95 },
      "mandate":   { "reps": "4-6", "multiplier": 1.0 },
      "exceeded":  { "reps": "7+",  "multiplier": 1.025 }
    },
    "rounding": { "incrementKg": 2.5, "incrementLb": 5 },
    "minClampDefaultKg": 20.0,
    "minClampDefaultLb": 45.0,
    "overrides": {
      "deadlift": { "exceededMultiplier": 1.03 },
      "squat":    { "exceededMultiplier": 1.03 }
    }
  },
  "rest": {
    "baseSeconds": 180,
    "byPerformance": {
      "failure": 300,
      "below": 240,
      "mandate": "base",
      "exceeded": "base"
    },
    "overrides": {
      "deadlift": { "baseSeconds": 240 }
    }
  },
  "calibration": {
    "integratedIntoDays": true,
    "targetReps": 5,
    "maxAttempts": 3,
    "tmRatio": 0.90,
    "workingFromTM": 0.80,
    "estimationOnBench": true,
    "benchRatios": {
      "overhead": 0.66,
      "row": 0.8,
      "squat": 1.2,
      "deadlift": 1.5,
      "pullup": 0.0
    },
    "configFile": "assets/calibration_config.json"
  },
  "alternatives": {
    "preserveLoadUsingRatio": true,
    "onSwap": "map_from_current",
    "ratios": {
      "bench->overhead": 0.66,
      "bench->row": 0.8
    }
  },
  "enforcement": {
    "minDaysBetweenWorkouts": 1
  },
  "metrics": {
    "adherenceWindows": [3, 6, 12],
    "plateau": { "windowSessions": 6, "minProgressPercent": 1.0 },
    "track": ["mandateAdherence", "progressionRate", "failures", "exceeded", "volume"]
  },
  "repository": {
    "useDayIdMap": true
  },
  "logging": {
    "enabled": true,
    "events": [
      "progression_decision",
      "rest_decision",
      "rotation_day",
      "mandate_evaluation",
      "alternative_mapping"
    ],
    "mutes": ["protocol_build"],
    "cooldownsMs": { "rest_tick": 1000, "timer_tick": 1000 },
    "sampling": { "render_perf": 0.1 }
  },
  "debug": {
    "shortRest": {
      "enabled": false,
      "seconds": 5
    }
  }
}
